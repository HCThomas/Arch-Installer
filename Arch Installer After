#!/bin/bash

echo -en "1.\ti3\n0.\tNone\nChoose Display Manager: "
read dm
if [ "$dm" == "" ]; then echo "Display Manager can't be empty"; exit 1; fi

echo -en "1.\tKDE\n2.\tGnome\n0.\tNone\nChoose Desktop Enviornment: "
read desktop_env
if [ "$desktop_env" == "" ]; then echo "Desktop Enviornment can't be empty"; exit 1; fi

### AUR Yay ###
cd ~
git clone https://aur.archlinux.org/yay.git
cd yay
makepkg -si

### Clone dotfiles ###
cd ~
git init
git remote add origin https://github.com/HCThomas/dotfiles
git fetch
git checkout -ft origin/master

### Install Basic Applications ###
sudo pacman -S xorg-server xorg-xinit neofetch htop termite rxvt-unicode urxvt-perls xdg-user-dirs dmenu feh ranger w3m
yay -S google-chrome gotop
xdg-user-dirs-update

### Install Vim Plugins ###
vim -c PlugInstall -c q -c q .vimrc

### Install Window Manger and Desktop Enviornment ###
# i3
if [ $dm -eq 1 ]; then
sudo pacman -S i3-gaps i3blocks i3lock noto-fonts noto-fonts-emoji ttf-font-awesome pulseaudio pamixer alsa-utils acpi brightnessctl xss-lock network-manager-applet notification-daemon picom
echo -e "[D-BUS Service]\nName=org.freedesktop.Notifications\nExec=/usr/lib/notification-daemon-1.0/notification-daemon" | sudo tee -a /usr/share/dbus-1/services/org.freedesktop.Notifications.service
fi

# KDE
if [ $desktop_env -eq 1 ]; then
sudo pacman -S plasma konsole yakuake dolphin
sudo systemctl enable sddm
mkdir -p ~/.local/share/kglobalaccel
fi

# Gnome
if [ $desktop_env -eq 2 ]; then
sudo pacman -S gnome gnome-tweaks
yay -S gnome-terminal-transparency
sudo systemctl enable gdm
fi

echo "rm install, source .bashrc"
